<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ò–º–º—É–Ω–Ω–∞—è –ú–∞—Ñ–∏—è - –û–±—É—á–∞—é—â–∞—è –∏–≥—Ä–∞</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ===== –û–°–ù–û–í–ù–´–ï –°–¢–ò–õ–ò ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            min-height: 100vh;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.2);
            overflow: hidden;
            position: relative;
        }

        .page {
            display: none;
            padding: 30px;
            animation: fadeIn 0.5s ease-out;
        }

        .page.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* ===== –®–ê–ü–ö–ê –ò –ù–ê–í–ò–ì–ê–¶–ò–Ø ===== */
        .game-header {
            background: linear-gradient(135deg, #2c3e50, #3498db);
            color: white;
            padding: 25px 30px;
            text-align: center;
            position: relative;
        }

        .game-header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .game-header h1 i {
            font-size: 1.2em;
        }

        .subtitle {
            font-size: 1.1em;
            opacity: 0.9;
            margin-bottom: 20px;
        }

        .navigation {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 20px;
        }

        .nav-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 50px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .nav-btn i {
            font-size: 1.2em;
        }

        .nav-btn.primary {
            background: linear-gradient(135deg, #2ecc71, #27ae60);
            color: white;
        }

        .nav-btn.secondary {
            background: linear-gradient(135deg, #9b59b6, #8e44ad);
            color: white;
        }

        .nav-btn.outline {
            background: transparent;
            border: 2px solid white;
            color: white;
        }

        .nav-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        /* ===== –°–¢–†–ê–ù–ò–¶–ê –ü–†–ê–í–ò–õ ===== */
        .rules-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }

        .rule-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
            transition: transform 0.3s;
            border-top: 5px solid #3498db;
        }

        .rule-card:hover {
            transform: translateY(-5px);
        }

        .rule-icon {
            font-size: 2.5em;
            color: #3498db;
            margin-bottom: 15px;
        }

        .role-preview-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .role-preview-item {
            background: white;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
        }

        .role-preview-item.immune {
            border-left: 4px solid #3498db;
        }

        .role-preview-item.pathogen {
            border-left: 4px solid #e74c3c;
        }

        .role-emoji {
            font-size: 2.5em;
            display: block;
            margin-bottom: 10px;
        }

        .educational-tip {
            background: linear-gradient(135deg, #ffeaa7, #fab1a0);
            padding: 20px;
            border-radius: 15px;
            margin: 30px 0;
            border-left: 5px solid #e17055;
        }

        /* ===== –°–¢–†–ê–ù–ò–¶–´ –ò–ì–†–´ ===== */
        .game-controls {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            border: 2px solid #e0e0e0;
        }

        .setup-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.05);
            margin: 20px 0;
        }

        .player-counter {
            margin: 20px 0;
        }

        .player-counter input[type="range"] {
            width: 100%;
            margin: 15px 0;
        }

        .roles-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .role-item {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 10px;
            border-left: 4px solid #3498db;
        }

        .game-board {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 30px 0;
        }

        @media (max-width: 768px) {
            .game-board {
                grid-template-columns: 1fr;
            }
        }

        .players-container {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        .players-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .player-card {
            background: white;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            border: 2px solid #e0e0e0;
            transition: all 0.3s;
            position: relative;
        }

        .player-card:hover {
            border-color: #3498db;
        }

        .player-card.alive {
            border-color: #2ecc71;
            background: #f0fff4;
        }

        .player-card.dead {
            opacity: 0.6;
            background: #f5f5f5;
            border-color: #ddd;
        }

        .player-card.protected::after {
            content: 'üõ°Ô∏è';
            position: absolute;
            top: 5px;
            right: 5px;
        }

        .player-number {
            font-size: 1.5em;
            font-weight: bold;
            color: #2c3e50;
        }

        .player-role {
            font-size: 2em;
            margin: 10px 0;
        }

        .phase-control {
            background: linear-gradient(135deg, #34495e, #2c3e50);
            color: white;
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .action-panel {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.05);
        }

        .action-group {
            margin: 20px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 4px solid #3498db;
        }

        .action-select {
            width: 100%;
            padding: 10px;
            border-radius: 8px;
            border: 2px solid #ddd;
            font-size: 1em;
            margin: 10px 0;
        }

        .game-log {
            background: #2c3e50;
            color: white;
            border-radius: 12px;
            padding: 20px;
            margin-top: 30px;
        }

        .log-content {
            max-height: 200px;
            overflow-y: auto;
            padding: 15px;
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
            margin-top: 10px;
        }

        .log-entry {
            padding: 8px 12px;
            margin: 5px 0;
            background: rgba(255,255,255,0.05);
            border-radius: 6px;
            border-left: 3px solid #3498db;
        }

        /* ===== –ö–ê–†–¢–û–ß–ö–ò –î–õ–Ø –ü–ï–ß–ê–¢–ò ===== */
        .print-controls {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            text-align: center;
        }

        .cards-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .print-section {
            page-break-inside: avoid;
            margin-bottom: 50px;
        }

        .card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            border: 1px solid #e0e0e0;
            position: relative;
        }

        .card-header {
            padding: 20px;
            text-align: center;
            position: relative;
        }

        .pathogen .card-header {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
        }

        .immune .card-header {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
        }

        .healthy .card-header {
            background: linear-gradient(135deg, #2ecc71, #27ae60);
            color: white;
        }

        .neutral .card-header {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: white;
        }

        .card-emoji {
            font-size: 3em;
            display: block;
            margin-bottom: 10px;
        }

        .card-team {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(255,255,255,0.2);
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 0.8em;
        }

        .card-body {
            padding: 20px;
        }

        .card-description p {
            margin-bottom: 10px;
            font-size: 0.95em;
            line-height: 1.4;
        }

        .card-instruction {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            border-left: 4px solid #3498db;
        }

        .card-instruction p {
            margin: 5px 0;
            font-size: 0.9em;
            color: #555;
        }

        .card-footer {
            background: #f8f9fa;
            padding: 10px 20px;
            border-top: 1px solid #e0e0e0;
            font-size: 0.8em;
            color: #777;
            text-align: center;
        }

        .cut-line {
            text-align: center;
            padding: 10px 0;
            color: #ccc;
            font-size: 0.9em;
            border-top: 1px dashed #ccc;
            margin-top: 15px;
        }

        /* ===== –ö–ù–û–ü–ö–ò ===== */
        .btn {
            display: inline-block;
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s;
            text-align: center;
        }

        .btn-primary {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
        }

        .btn-secondary {
            background: linear-gradient(135deg, #9b59b6, #8e44ad);
            color: white;
        }

        .btn-success {
            background: linear-gradient(135deg, #2ecc71, #27ae60);
            color: white;
        }

        .btn-danger {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
        }

        .btn-night {
            background: linear-gradient(135deg, #34495e, #2c3e50);
            color: white;
        }

        .btn-day {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .btn-large {
            padding: 20px 30px;
            font-size: 1.1em;
            width: 100%;
            margin: 10px 0;
        }

        .btn-small {
            padding: 8px 16px;
            font-size: 0.9em;
        }

        /* ===== –≠–ö–†–ê–ù –ó–ê–í–ï–†–®–ï–ù–ò–Ø –ò–ì–†–´ ===== */
        .game-over-screen {
            background: rgba(0,0,0,0.8);
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            padding: 20px;
        }

        .game-over-card {
            background: white;
            border-radius: 20px;
            padding: 40px;
            max-width: 600px;
            width: 100%;
            text-align: center;
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
        }

        .game-over-card.pathogen {
            border-top: 10px solid #e74c3c;
        }

        .game-over-card.immune {
            border-top: 10px solid #3498db;
        }

        .game-over-card.neutral {
            border-top: 10px solid #f39c12;
        }

        .winner-message {
            font-size: 1.8em;
            margin: 20px 0;
            padding: 20px;
            border-radius: 10px;
            background: #f8f9fa;
        }

        .final-roles {
            margin: 30px 0;
            text-align: left;
        }

        .roles-reveal {
            max-height: 300px;
            overflow-y: auto;
            margin-top: 15px;
        }

        .final-player {
            padding: 10px 15px;
            margin: 5px 0;
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .final-player.alive {
            background: #d5f4e6;
            border-left: 4px solid #2ecc71;
        }

        .final-player.dead {
            background: #fadbd8;
            border-left: 4px solid #e74c3c;
        }

        /* ===== –ü–ï–ß–ê–¢–¨ ===== */
        @media print {
            .no-print {
                display: none !important;
            }
            
            .print-grid {
                display: grid !important;
                grid-template-columns: repeat(2, 1fr) !important;
                gap: 20px !important;
            }
            
            .card {
                break-inside: avoid;
                page-break-inside: avoid;
                margin-bottom: 20px;
            }
            
            body {
                background: white !important;
            }
            
            .container {
                box-shadow: none !important;
                max-width: 100% !important;
            }
        }

        /* ===== –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –°–¢–ò–õ–ò ===== */
        h2, h3, h4 {
            color: #2c3e50;
            margin: 20px 0 15px 0;
        }

        h2 {
            font-size: 1.8em;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        h3 {
            font-size: 1.5em;
        }

        p {
            margin-bottom: 15px;
        }

        ul, ol {
            margin-left: 20px;
            margin-bottom: 20px;
        }

        li {
            margin-bottom: 10px;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .feature-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        .feature-icon {
            font-size: 2.5em;
            margin-bottom: 15px;
        }

        .emoji-footer {
            font-size: 1.5em;
            margin-top: 20px;
            letter-spacing: 10px;
        }

        .scroll-to-top {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #3498db;
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            z-index: 100;
            transition: all 0.3s;
        }

        .scroll-to-top:hover {
            background: #2980b9;
            transform: translateY(-3px);
        }

        .error-message {
            background: #fadbd8;
            color: #c0392b;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #e74c3c;
        }

        .success-message {
            background: #d5f4e6;
            color: #27ae60;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #2ecc71;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        .emoji-animate {
            display: inline-block;
            animation: bounce 1s infinite alternate;
        }

        @keyframes bounce {
            from { transform: translateY(0); }
            to { transform: translateY(-5px); }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- –®–ê–ü–ö–ê –° –ù–ê–í–ò–ì–ê–¶–ò–ï–ô -->
        <header class="game-header">
            <h1><i class="fas fa-shield-virus"></i> –ò–º–º—É–Ω–Ω–∞—è –ú–∞—Ñ–∏—è</h1>
            <p class="subtitle">–û–±—É—á–∞—é—â–∞—è –∏–≥—Ä–∞ –ø–æ –±–∏–æ–ª–æ–≥–∏–∏ –¥–ª—è 5 –∫–ª–∞—Å—Å–∞</p>
            
            <div class="navigation">
                <button class="nav-btn primary" onclick="showPage('rules')">
                    <i class="fas fa-book-open"></i> –ü—Ä–∞–≤–∏–ª–∞
                </button>
                <button class="nav-btn secondary" onclick="showPage('simple-game')">
                    <i class="fas fa-star"></i> –£–ø—Ä–æ—â—ë–Ω–Ω–∞—è –∏–≥—Ä–∞
                </button>
                <button class="nav-btn secondary" onclick="showPage('advanced-game')">
                    <i class="fas fa-rocket"></i> –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∏–≥—Ä–∞
                </button>
                <button class="nav-btn outline" onclick="showPage('cards')">
                    <i class="fas fa-print"></i> –ö–∞—Ä—Ç–æ—á–∫–∏ –¥–ª—è –ø–µ—á–∞—Ç–∏
                </button>
            </div>
        </header>

        <!-- –°–¢–†–ê–ù–ò–¶–ê –ü–†–ê–í–ò–õ -->
        <section id="rules" class="page active">
            <div class="rules-container">
                <h2><i class="fas fa-book-open"></i> –°—é–∂–µ—Ç –∏–≥—Ä—ã</h2>
                <div class="story-card setup-card">
                    <p>–í –æ—Ä–≥–∞–Ω–∏–∑–º–µ —á–µ–ª–æ–≤–µ–∫–∞ –ø—Ä–æ–∏–∑–æ—à–ª–æ –≤—Ç–æ—Ä–∂–µ–Ω–∏–µ! –ü–∞—Ç–æ–≥–µ–Ω—ã –ø—ã—Ç–∞—é—Ç—Å—è –∑–∞—Ö–≤–∞—Ç–∏—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—å, 
                    –∞ –∏–º–º—É–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –∑–∞—â–∏—Ç–∏—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–º. –ö–∞–∂–¥—ã–π –∏–≥—Ä–æ–∫ –ø–æ–ª—É—á–∞–µ—Ç —Ä–æ–ª—å –∫–ª–µ—Ç–∫–∏ –∏–º–º—É–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –∏–ª–∏ –ø–∞—Ç–æ–≥–µ–Ω–∞.</p>
                    <p>–ü–æ–º–æ–≥–∏—Ç–µ –∏–º–º—É–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ –ø–æ–±–µ–¥–∏—Ç—å –∏–ª–∏ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç–µ—Å—å –∫ –ø–∞—Ç–æ–≥–µ–Ω–∞–º –¥–ª—è –∑–∞—Ö–≤–∞—Ç–∞ –æ—Ä–≥–∞–Ω–∏–∑–º–∞!</p>
                </div>

                <div class="rules-grid">
                    <div class="rule-card">
                        <div class="rule-icon"><i class="fas fa-moon"></i></div>
                        <h3>–ù–æ—á–Ω–∞—è —Ñ–∞–∑–∞</h3>
                        <p>–í—Å–µ –∑–∞–∫—Ä—ã–≤–∞—é—Ç –≥–ª–∞–∑–∞. –ü–∞—Ç–æ–≥–µ–Ω—ã –≤—ã–±–∏—Ä–∞—é—Ç –∂–µ—Ä—Ç–≤—É, –∏–º–º—É–Ω–Ω—ã–µ –∫–ª–µ—Ç–∫–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç —Å–≤–æ–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏.</p>
                    </div>

                    <div class="rule-card">
                        <div class="rule-icon"><i class="fas fa-sun"></i></div>
                        <h3>–î–Ω–µ–≤–Ω–∞—è —Ñ–∞–∑–∞</h3>
                        <p>–û–±—Å—É–∂–¥–µ–Ω–∏–µ –∏ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ. –ò–≥—Ä–æ–∫–∏ –ø—ã—Ç–∞—é—Ç—Å—è –≤—ã—á–∏—Å–ª–∏—Ç—å –ø–∞—Ç–æ–≥–µ–Ω–æ–≤ –∏ —É—Å—Ç—Ä–∞–Ω–∏—Ç—å —É–≥—Ä–æ–∑—É.</p>
                    </div>

                    <div class="rule-card">
                        <div class="rule-icon"><i class="fas fa-users"></i></div>
                        <h3>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–æ–≤</h3>
                        <p>–û–ø—Ç–∏–º–∞–ª—å–Ω–æ: <strong>8-10 –∏–≥—Ä–æ–∫–æ–≤</strong>. –ú–æ–∂–Ω–æ –∏–≥—Ä–∞—Ç—å –æ—Ç 6 –¥–æ 15 —á–µ–ª–æ–≤–µ–∫.</p>
                    </div>

                    <div class="rule-card">
                        <div class="rule-icon"><i class="fas fa-trophy"></i></div>
                        <h3>–£—Å–ª–æ–≤–∏—è –ø–æ–±–µ–¥—ã</h3>
                        <p>–ò–º–º—É–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–æ–±–µ–∂–¥–∞–µ—Ç, –∫–æ–≥–¥–∞ –≤—Å–µ –ø–∞—Ç–æ–≥–µ–Ω—ã –æ–±–µ–∑–≤—Ä–µ–∂–µ–Ω—ã. –ü–∞—Ç–æ–≥–µ–Ω—ã –ø–æ–±–µ–∂–¥–∞—é—Ç, –∫–æ–≥–¥–∞ –∏—Ö —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –±–æ–ª—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ –∑–¥–æ—Ä–æ–≤—ã–º –∫–ª–µ—Ç–∫–∞–º.</p>
                    </div>
                </div>

                <div class="role-preview">
                    <h2><i class="fas fa-user-friends"></i> –û—Å–Ω–æ–≤–Ω—ã–µ —Ä–æ–ª–∏</h2>
                    <div class="role-preview-grid">
                        <div class="role-preview-item immune">
                            <span class="role-emoji">‚ö™</span>
                            <h4>–§–∞–≥–æ—Ü–∏—Ç</h4>
                            <p>–ó–∞—â–∏—â–∞–µ—Ç –∏–≥—Ä–æ–∫–æ–≤ –Ω–æ—á—å—é</p>
                        </div>
                        <div class="role-preview-item immune">
                            <span class="role-emoji">üî¨</span>
                            <h4>–õ–∏–º—Ñ–æ—Ü–∏—Ç</h4>
                            <p>–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∏–≥—Ä–æ–∫–æ–≤</p>
                        </div>
                        <div class="role-preview-item pathogen">
                            <span class="role-emoji">ü¶†</span>
                            <h4>–í–∏—Ä—É—Å</h4>
                            <p>–ó–∞—Ä–∞–∂–∞–µ—Ç –Ω–æ—á—å—é</p>
                        </div>
                        <div class="role-preview-item pathogen">
                            <span class="role-emoji">üß´</span>
                            <h4>–ë–∞–∫—Ç–µ—Ä–∏—è</h4>
                            <p>–ó–∞—Ä–∞–∂–∞–µ—Ç –Ω–æ—á—å—é</p>
                        </div>
                    </div>
                </div>

                <div class="game-selection">
                    <h2><i class="fas fa-play-circle"></i> –í—ã–±–µ—Ä–∏—Ç–µ —É—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏</h2>
                    <div class="selection-buttons">
                        <button onclick="showPage('simple-game')" class="btn btn-primary btn-large">
                            <i class="fas fa-star"></i> –ù–∞—á–∞—Ç—å —Å —É–ø—Ä–æ—â—ë–Ω–Ω–æ–π –∏–≥—Ä—ã
                            <div style="font-size: 0.8em; font-weight: normal; margin-top: 5px;">–î–ª—è –ø–µ—Ä–≤–æ–≥–æ –∑–Ω–∞–∫–æ–º—Å—Ç–≤–∞</div>
                        </button>
                        <button onclick="showPage('advanced-game')" class="btn btn-secondary btn-large">
                            <i class="fas fa-rocket"></i> –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è
                            <div style="font-size: 0.8em; font-weight: normal; margin-top: 5px;">–ë–æ–ª—å—à–µ —Ä–æ–ª–µ–π –∏ –º–µ—Ö–∞–Ω–∏–∫</div>
                        </button>
                        <button onclick="showPage('cards')" class="btn btn-large" style="background: #f8f9fa; color: #333;">
                            <i class="fas fa-print"></i> –ö–∞—Ä—Ç–æ—á–∫–∏ –¥–ª—è –ø–µ—á–∞—Ç–∏
                            <div style="font-size: 0.8em; font-weight: normal; margin-top: 5px;">–†–∞—Å–ø–µ—á–∞—Ç–∞—Ç—å —Ä–æ–ª–∏</div>
                        </button>
                    </div>
                </div>

                <div class="educational-tip">
                    <h3><i class="fas fa-graduation-cap"></i> –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è —Ü–µ–ª—å</h3>
                    <p>–ò–≥—Ä–∞ –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–Ω—è—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–±–æ—Ç—ã –∏–º–º—É–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã, —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–∑–Ω—ã—Ö –∫–ª–µ—Ç–æ–∫ –∏ —Å–ø–æ—Å–æ–±—ã –∑–∞—â–∏—Ç—ã –æ—Ä–≥–∞–Ω–∏–∑–º–∞ –æ—Ç –∏–Ω—Ñ–µ–∫—Ü–∏–π.</p>
                </div>
            </div>
        </section>

        <!-- –°–¢–†–ê–ù–ò–¶–ê –£–ü–†–û–©–ï–ù–ù–û–ô –ò–ì–†–´ -->
        <section id="simple-game" class="page">
            <div class="game-controls">
                <button onclick="showPage('rules')" class="btn btn-small"><i class="fas fa-arrow-left"></i> –ü—Ä–∞–≤–∏–ª–∞</button>
                <button onclick="showPage('cards')" class="btn btn-small"><i class="fas fa-print"></i> –ö–∞—Ä—Ç–æ—á–∫–∏</button>
            </div>

            <h2><i class="fas fa-shield-alt"></i> –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –ò–º–º—É–Ω–Ω–∞—è –ú–∞—Ñ–∏—è</h2>

            <div class="game-setup">
                <div class="setup-card">
                    <h3><i class="fas fa-cogs"></i> –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–≥—Ä—ã</h3>
                    <div class="player-counter">
                        <label for="playerCount">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–æ–≤: <span id="countValue">8</span></label>
                        <input type="range" id="playerCount" min="6" max="12" value="8">
                    </div>
                    
                    <div class="role-distribution">
                        <h4>–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–æ–ª–µ–π:</h4>
                        <div id="simpleRolesList" class="roles-list">
                            <!-- –†–æ–ª–∏ –±—É–¥—É—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ -->
                        </div>
                    </div>
                    
                    <button id="generateRoles" class="btn btn-primary">
                        <i class="fas fa-random"></i> –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–æ–ª–∏
                    </button>
                    <button id="startGame" class="btn btn-success" disabled>
                        <i class="fas fa-play"></i> –ù–∞—á–∞—Ç—å –∏–≥—Ä—É
                    </button>
                </div>
            </div>

            <div class="game-interface">
                <div class="phase-control">
                    <h3 style="margin: 0;">–§–∞–∑–∞ –∏–≥—Ä—ã: <span id="currentPhase">–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞</span></h3>
                    <div class="phase-buttons">
                        <button id="startNight" class="btn btn-night" disabled>
                            <i class="fas fa-moon"></i> –ù–∞—á–∞—Ç—å –Ω–æ—á—å
                        </button>
                        <button id="startDay" class="btn btn-day" disabled>
                            <i class="fas fa-sun"></i> –ù–∞—á–∞—Ç—å –¥–µ–Ω—å
                        </button>
                    </div>
                </div>

                <div class="game-board">
                    <div class="players-container">
                        <h4><i class="fas fa-users"></i> –ò–≥—Ä–æ–∫–∏</h4>
                        <div id="playersList" class="players-list">
                            <!-- –°–ø–∏—Å–æ–∫ –∏–≥—Ä–æ–∫–æ–≤ –±—É–¥–µ—Ç –∑–¥–µ—Å—å -->
                        </div>
                    </div>

                    <div class="action-panel">
                        <div class="night-actions" id="nightActions" style="display: none;">
                            <h4><i class="fas fa-moon"></i> –ù–æ—á–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h4>
                            <div class="action-group" id="pathogenAction">
                                <p>–ü–∞—Ç–æ–≥–µ–Ω—ã, –≤—ã–±–µ—Ä–∏—Ç–µ –∂–µ—Ä—Ç–≤—É:</p>
                                <select id="pathogenTarget" class="action-select"></select>
                                <button id="submitPathogen" class="btn btn-action">–ó–∞—Ä–∞–∑–∏—Ç—å</button>
                            </div>
                            <div class="action-group" id="phagocyteAction" style="display: none;">
                                <p>–§–∞–≥–æ—Ü–∏—Ç, –≤—ã–±–µ—Ä–∏—Ç–µ –∫–æ–≥–æ –∑–∞—â–∏—Ç–∏—Ç—å:</p>
                                <select id="phagocyteTarget" class="action-select"></select>
                                <button id="submitPhagocyte" class="btn btn-action">–ó–∞—â–∏—Ç–∏—Ç—å</button>
                            </div>
                            <div class="action-group" id="lymphocyteAction" style="display: none;">
                                <p>–õ–∏–º—Ñ–æ—Ü–∏—Ç, –≤—ã–±–µ—Ä–∏—Ç–µ –∫–æ–≥–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:</p>
                                <select id="lymphocyteTarget" class="action-select"></select>
                                <button id="submitLymphocyte" class="btn btn-action">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
                            </div>
                        </div>

                        <div class="day-actions" id="dayActions" style="display: none;">
                            <h4><i class="fas fa-sun"></i> –î–Ω–µ–≤–Ω–æ–µ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ</h4>
                            <div class="vote-info" id="nightResult"></div>
                            <div class="voting-section">
                                <p>–û–±—Å—É–¥–∏—Ç–µ –∏ –≤—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥–æ–∑—Ä–µ–≤–∞–µ–º–æ–≥–æ:</p>
                                <select id="voteTarget" class="action-select"></select>
                                <button id="submitVote" class="btn btn-action">–ü—Ä–æ–≥–æ–ª–æ—Å–æ–≤–∞—Ç—å</button>
                            </div>
                            <div class="vote-result" id="voteResult"></div>
                        </div>
                    </div>
                </div>

                <div class="game-log">
                    <h4><i class="fas fa-history"></i> –ñ—É—Ä–Ω–∞–ª –∏–≥—Ä—ã</h4>
                    <div id="gameLog" class="log-content">
                        <div class="log-entry">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —É–ø—Ä–æ—â–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é –∏–≥—Ä—ã!</div>
                    </div>
                </div>
            </div>

            <div class="simple-rules setup-card">
                <h3><i class="fas fa-info-circle"></i> –ü—Ä–∞–≤–∏–ª–∞ —É–ø—Ä–æ—â–µ–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏</h3>
                <ul>
                    <li><strong>–†–æ–ª–∏:</strong> –¢–æ–ª—å–∫–æ –í–∏—Ä—É—Å, –ë–∞–∫—Ç–µ—Ä–∏—è, –§–∞–≥–æ—Ü–∏—Ç, –õ–∏–º—Ñ–æ—Ü–∏—Ç –∏ –ó–¥–æ—Ä–æ–≤—ã–µ –∫–ª–µ—Ç–∫–∏</li>
                    <li><strong>–ù–æ—á—å:</strong> –ü–∞—Ç–æ–≥–µ–Ω—ã –∑–∞—Ä–∞–∂–∞—é—Ç –æ–¥–Ω–æ–≥–æ –∏–≥—Ä–æ–∫–∞, –§–∞–≥–æ—Ü–∏—Ç –∑–∞—â–∏—â–∞–µ—Ç, –õ–∏–º—Ñ–æ—Ü–∏—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç</li>
                    <li><strong>–î–µ–Ω—å:</strong> –û–±—Å—É–∂–¥–µ–Ω–∏–µ –∏ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ –∑–∞ –æ–¥–Ω–æ–≥–æ –∏–≥—Ä–æ–∫–∞</li>
                    <li><strong>–ü–æ–±–µ–¥–∞:</strong> –ò–º–º—É–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–æ–±–µ–∂–¥–∞–µ—Ç, –∫–æ–≥–¥–∞ –≤—Å–µ –ø–∞—Ç–æ–≥–µ–Ω—ã —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã</li>
                </ul>
                <p class="tip">–ü–æ—Å–ª–µ –æ—Å–≤–æ–µ–Ω–∏—è —ç—Ç–æ–π –≤–µ—Ä—Å–∏–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π –∏–≥—Ä–µ!</p>
            </div>
        </section>

        <!-- –°–¢–†–ê–ù–ò–¶–ê –†–ê–°–®–ò–†–ï–ù–ù–û–ô –ò–ì–†–´ -->
        <section id="advanced-game" class="page">
            <div class="game-controls">
                <button onclick="showPage('rules')" class="btn btn-small"><i class="fas fa-arrow-left"></i> –ü—Ä–∞–≤–∏–ª–∞</button>
                <button onclick="showPage('simple-game')" class="btn btn-small"><i class="fas fa-star"></i> –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è</button>
                <button onclick="showPage('cards')" class="btn btn-small"><i class="fas fa-print"></i> –ö–∞—Ä—Ç–æ—á–∫–∏</button>
            </div>

            <h2><i class="fas fa-shield-virus"></i> –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –ò–º–º—É–Ω–Ω–∞—è –ú–∞—Ñ–∏—è</h2>

            <div class="advanced-features">
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">ü¶†üçÑ</div>
                        <h4>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ç–æ–≥–µ–Ω—ã</h4>
                        <p>–ì—Ä–∏–±–æ–∫, –ü–∞—Ä–∞–∑–∏—Ç –∏ –ê–ª–ª–µ—Ä–≥–µ–Ω</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">‚ö™üî¨üíæ</div>
                        <h4>–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∫–ª–µ—Ç–∫–∏</h4>
                        <p>–ö–ª–µ—Ç–∫–∞ –ø–∞–º—è—Ç–∏, –ê–Ω—Ç–∏—Ç–µ–ª–æ</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üíâüîÑ</div>
                        <h4>–ù–æ–≤—ã–µ –º–µ—Ö–∞–Ω–∏–∫–∏</h4>
                        <p>–ü—Ä–∏–≤–∏–≤–∫–∞, –í–æ—Å–ø–∞–ª–µ–Ω–∏–µ, –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞</p>
                    </div>
                </div>
            </div>

            <div class="game-setup">
                <div class="setup-card advanced">
                    <h3><i class="fas fa-cogs"></i> –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π –∏–≥—Ä—ã</h3>
                    <div class="player-counter">
                        <label for="advPlayerCount">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–æ–≤: <span id="advCountValue">10</span></label>
                        <input type="range" id="advPlayerCount" min="8" max="15" value="10">
                    </div>
                    
                    <div class="role-selection">
                        <h4>–í—ã–±–µ—Ä–∏—Ç–µ —Ä–æ–ª–∏ –¥–ª—è –∏–≥—Ä—ã:</h4>
                        <div class="role-checkboxes" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 10px; margin: 15px 0;">
                            <label><input type="checkbox" name="role" value="virus" checked> ü¶† –í–∏—Ä—É—Å</label>
                            <label><input type="checkbox" name="role" value="bacteria" checked> üß´ –ë–∞–∫—Ç–µ—Ä–∏—è</label>
                            <label><input type="checkbox" name="role" value="fungus"> üçÑ –ì—Ä–∏–±–æ–∫</label>
                            <label><input type="checkbox" name="role" value="parasite"> üêõ –ü–∞—Ä–∞–∑–∏—Ç</label>
                            <label><input type="checkbox" name="role" value="phagocyte" checked> ‚ö™ –§–∞–≥–æ—Ü–∏—Ç</label>
                            <label><input type="checkbox" name="role" value="lymphocyte" checked> üî¨ –õ–∏–º—Ñ–æ—Ü–∏—Ç</label>
                            <label><input type="checkbox" name="role" value="memory_cell"> üíæ –ö–ª–µ—Ç–∫–∞ –ø–∞–º—è—Ç–∏</label>
                            <label><input type="checkbox" name="role" value="antibody"> üõ°Ô∏è –ê–Ω—Ç–∏—Ç–µ–ª–æ</label>
                            <label><input type="checkbox" name="role" value="allergen"> üå∏ –ê–ª–ª–µ—Ä–≥–µ–Ω</label>
                        </div>
                    </div>
                    
                    <div class="special-rules">
                        <h4>–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞:</h4>
                        <label style="display: block; margin: 5px 0;"><input type="checkbox" id="enableVaccine" checked> –í–∫–ª—é—á–∏—Ç—å –ø—Ä–∏–≤–∏–≤–∫—É</label>
                        <label style="display: block; margin: 5px 0;"><input type="checkbox" id="enableFever" checked> –í–∫–ª—é—á–∏—Ç—å —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É</label>
                        <label style="display: block; margin: 5px 0;"><input type="checkbox" id="enableInflammation"> –í–∫–ª—é—á–∏—Ç—å –≤–æ—Å–ø–∞–ª–µ–Ω–∏–µ</label>
                    </div>
                    
                    <button id="advGenerateRoles" class="btn btn-primary">
                        <i class="fas fa-random"></i> –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–æ–ª–∏
                    </button>
                    <button id="advStartGame" class="btn btn-success" disabled>
                        <i class="fas fa-play"></i> –ù–∞—á–∞—Ç—å –∏–≥—Ä—É
                    </button>
                </div>
            </div>

            <!-- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏–≥—Ä—ã (–∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π —É–ø—Ä–æ—â–µ–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏) -->
            <div class="game-interface" id="advancedGameInterface" style="display: none;">
                <div class="phase-control">
                    <h3 style="margin: 0;">–§–∞–∑–∞ –∏–≥—Ä—ã: <span id="advCurrentPhase">–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞</span></h3>
                    <div class="phase-buttons">
                        <button id="advStartNight" class="btn btn-night" disabled>
                            <i class="fas fa-moon"></i> –ù–∞—á–∞—Ç—å –Ω–æ—á—å
                        </button>
                        <button id="advStartDay" class="btn btn-day" disabled>
                            <i class="fas fa-sun"></i> –ù–∞—á–∞—Ç—å –¥–µ–Ω—å
                        </button>
                    </div>
                </div>

                <div class="game-board">
                    <div class="players-container">
                        <h4><i class="fas fa-users"></i> –ò–≥—Ä–æ–∫–∏</h4>
                        <div id="advPlayersList" class="players-list">
                            <!-- –°–ø–∏—Å–æ–∫ –∏–≥—Ä–æ–∫–æ–≤ –±—É–¥–µ—Ç –∑–¥–µ—Å—å -->
                        </div>
                    </div>

                    <div class="action-panel">
                        <!-- –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ —É–ø—Ä–æ—â–µ–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏, –Ω–æ —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –¥–µ–π—Å—Ç–≤–∏—è–º–∏ -->
                        <div id="advNightActions" style="display: none;">
                            <h4><i class="fas fa-moon"></i> –ù–æ—á–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h4>
                            <div class="action-group" id="advPathogenAction">
                                <p>–ü–∞—Ç–æ–≥–µ–Ω—ã, –≤—ã–±–µ—Ä–∏—Ç–µ –∂–µ—Ä—Ç–≤—É:</p>
                                <select id="advPathogenTarget" class="action-select"></select>
                                <button id="advSubmitPathogen" class="btn btn-action">–ó–∞—Ä–∞–∑–∏—Ç—å</button>
                            </div>
                            <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã—Ö —Ä–æ–ª–µ–π -->
                        </div>

                        <div id="advDayActions" style="display: none;">
                            <h4><i class="fas fa-sun"></i> –î–Ω–µ–≤–Ω–æ–µ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ</h4>
                            <div class="vote-info" id="advNightResult"></div>
                            <div class="voting-section">
                                <p>–û–±—Å—É–¥–∏—Ç–µ –∏ –≤—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥–æ–∑—Ä–µ–≤–∞–µ–º–æ–≥–æ:</p>
                                <select id="advVoteTarget" class="action-select"></select>
                                <button id="advSubmitVote" class="btn btn-action">–ü—Ä–æ–≥–æ–ª–æ—Å–æ–≤–∞—Ç—å</button>
                            </div>
                            <div class="vote-result" id="advVoteResult"></div>
                        </div>
                    </div>
                </div>

                <div class="game-log">
                    <h4><i class="fas fa-history"></i> –ñ—É—Ä–Ω–∞–ª –∏–≥—Ä—ã</h4>
                    <div id="advGameLog" class="log-content">
                        <div class="log-entry">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é –∏–≥—Ä—ã!</div>
                    </div>
                </div>
            </div>

            <div class="advanced-rules setup-card">
                <h3><i class="fas fa-graduation-cap"></i> –ù–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –∏ —Ä–æ–ª–∏</h3>
                <div style="margin: 20px 0;">
                    <details style="margin: 10px 0; padding: 10px; background: #f8f9fa; border-radius: 8px;">
                        <summary style="font-weight: bold; cursor: pointer;">üçÑ –ì—Ä–∏–±–æ–∫</summary>
                        <p style="margin-top: 10px;">–ü—Ä–∏ –≥–∏–±–µ–ª–∏ –∑–∞—Ä–∞–∂–∞–µ—Ç —Ç–æ–≥–æ, –∫—Ç–æ –∑–∞ –Ω–µ–≥–æ –ø—Ä–æ–≥–æ–ª–æ—Å–æ–≤–∞–ª (—ç—Ñ—Ñ–µ–∫—Ç —Ç–æ–∫—Å–∏–Ω–æ–≤)</p>
                    </details>
                    <details style="margin: 10px 0; padding: 10px; background: #f8f9fa; border-radius: 8px;">
                        <summary style="font-weight: bold; cursor: pointer;">üêõ –ü–∞—Ä–∞–∑–∏—Ç</summary>
                        <p style="margin-top: 10px;">–ú–∞—Å–∫–∏—Ä—É–µ—Ç—Å—è –ø–æ–¥ –∑–¥–æ—Ä–æ–≤—É—é –∫–ª–µ—Ç–∫—É –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ –ª–∏–º—Ñ–æ—Ü–∏—Ç–æ–º</p>
                    </details>
                    <details style="margin: 10px 0; padding: 10px; background: #f8f9fa; border-radius: 8px;">
                        <summary style="font-weight: bold; cursor: pointer;">üíæ –ö–ª–µ—Ç–∫–∞ –ø–∞–º—è—Ç–∏</summary>
                        <p style="margin-top: 10px;">–ó–∞–ø–æ–º–∏–Ω–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤ –∏ –º–æ–∂–µ—Ç –ø–æ–¥—Å–∫–∞–∑–∞—Ç—å –¥–Ω–µ–º</p>
                    </details>
                    <details style="margin: 10px 0; padding: 10px; background: #f8f9fa; border-radius: 8px;">
                        <summary style="font-weight: bold; cursor: pointer;">üå∏ –ê–ª–ª–µ—Ä–≥–µ–Ω</summary>
                        <p style="margin-top: 10px;">–ù–µ–π—Ç—Ä–∞–ª—å–Ω–∞—è —Ä–æ–ª—å, –≤—ã–∏–≥—Ä—ã–≤–∞–µ—Ç –µ—Å–ª–∏ –æ—Å—Ç–∞–ª—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–º</p>
                    </details>
                </div>
            </div>
        </section>

        <!-- –°–¢–†–ê–ù–ò–¶–ê –ö–ê–†–¢–û–ß–ï–ö –î–õ–Ø –ü–ï–ß–ê–¢–ò -->
        <section id="cards" class="page">
            <div class="game-controls no-print">
                <button onclick="showPage('rules')" class="btn btn-small"><i class="fas fa-arrow-left"></i> –ù–∞ –≥–ª–∞–≤–Ω—É—é</button>
                <button onclick="window.print()" class="btn btn-primary">
                    <i class="fas fa-print"></i> –ü–µ—á–∞—Ç—å
                </button>
            </div>

            <div class="print-controls no-print">
                <h3><i class="fas fa-info-circle"></i> –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø–µ—á–∞—Ç–∏</h3>
                <p>1. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–ü–µ—á–∞—Ç—å" –∏–ª–∏ Ctrl+P</p>
                <p>2. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø–µ—á–∞—Ç–∏ –≤—ã–±–µ—Ä–∏—Ç–µ "–§–æ–Ω —Å—Ç—Ä–∞–Ω–∏—Ü—ã" (–¥–ª—è —Ü–≤–µ—Ç–Ω—ã—Ö –∫–∞—Ä—Ç–æ—á–µ–∫)</p>
                <p>3. –†–∞—Å–ø–µ—á–∞—Ç–∞–π—Ç–µ –Ω–∞ –ø–ª–æ—Ç–Ω–æ–π –±—É–º–∞–≥–µ –∏ —Ä–∞–∑—Ä–µ–∂—å—Ç–µ –ø–æ –ª–∏–Ω–∏—è–º</p>
                <p>4. –î–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –±—É–º–∞–≥–∏ –º–æ–∂–Ω–æ –ø–µ—á–∞—Ç–∞—Ç—å –ø–æ 2-4 –∫–∞—Ä—Ç–æ—á–∫–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ</p>
            </div>

            <!-- –£–ø—Ä–æ—â–µ–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ -->
            <div class="print-section">
                <h2><i class="fas fa-star"></i> –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π –Ω–∞–±–æ—Ä (8-10 –∏–≥—Ä–æ–∫–æ–≤)</h2>
                <div class="cards-container print-grid">
                    <!-- –í–∏—Ä—É—Å -->
                    <div class="card pathogen">
                        <div class="card-header">
                            <span class="card-emoji">ü¶†</span>
                            <h3>–í–∏—Ä—É—Å</h3>
                            <span class="card-team">–ü–∞—Ç–æ–≥–µ–Ω</span>
                        </div>
                        <div class="card-body">
                            <div class="card-description">
                                <p><strong>–¶–µ–ª—å:</strong> –ó–∞—Ä–∞–∑–∏—Ç—å –≤—Å–µ –∑–¥–æ—Ä–æ–≤—ã–µ –∫–ª–µ—Ç–∫–∏</p>
                                <p><strong>–ù–æ—á—å—é:</strong> –í—ã–±–∏—Ä–∞–µ—à—å –æ–¥–Ω—É –∫–ª–µ—Ç–∫—É –¥–ª—è –∑–∞—Ä–∞–∂–µ–Ω–∏—è (–≤–º–µ—Å—Ç–µ —Å –ë–∞–∫—Ç–µ—Ä–∏–µ–π)</p>
                                <p><strong>–û—Å–æ–±–æ–µ:</strong> –ú–∞—Å–∫–∏—Ä—É–µ—Ç—Å—è –ø–æ–¥ –∑–¥–æ—Ä–æ–≤—É—é –∫–ª–µ—Ç–∫—É</p>
                            </div>
                            <div class="card-instruction">
                                <p><i class="fas fa-moon"></i> –ü–æ–¥–º–∏–≥–Ω–∏ –≤–µ–¥—É—â–µ–º—É, —á—Ç–æ–±—ã –≤—ã–±—Ä–∞—Ç—å –∂–µ—Ä—Ç–≤—É</p>
                                <p><i class="fas fa-sun"></i> –£–±–µ–¥–∏ –≤—Å–µ—Ö, —á—Ç–æ —Ç—ã –∑–¥–æ—Ä–æ–≤–∞—è –∫–ª–µ—Ç–∫–∞</p>
                            </div>
                        </div>
                        <div class="card-footer">
                            <div class="card-id">–ö–∞—Ä—Ç–æ—á–∫–∞ 1</div>
                        </div>
                    </div>

                    <!-- –ë–∞–∫—Ç–µ—Ä–∏—è -->
                    <div class="card pathogen">
                        <div class="card-header">
                            <span class="card-emoji">üß´</span>
                            <h3>–ë–∞–∫—Ç–µ—Ä–∏—è</h3>
                            <span class="card-team">–ü–∞—Ç–æ–≥–µ–Ω</span>
                        </div>
                        <div class="card-body">
                            <div class="card-description">
                                <p><strong>–¶–µ–ª—å:</strong> –ó–∞—Ä–∞–∑–∏—Ç—å –≤—Å–µ –∑–¥–æ—Ä–æ–≤—ã–µ –∫–ª–µ—Ç–∫–∏</p>
                                <p><strong>–ù–æ—á—å—é:</strong> –í—ã–±–∏—Ä–∞–µ—à—å –æ–¥–Ω—É –∫–ª–µ—Ç–∫—É –¥–ª—è –∑–∞—Ä–∞–∂–µ–Ω–∏—è (–≤–º–µ—Å—Ç–µ —Å –í–∏—Ä—É—Å–æ–º)</p>
                                <p><strong>–û—Å–æ–±–æ–µ:</strong> –ë—ã—Å—Ç—Ä–æ —Ä–∞–∑–º–Ω–æ–∂–∞–µ—Ç—Å—è</p>
                            </div>
                            <div class="card-instruction">
                                <p><i class="fas fa-moon"></i> –î–µ–π—Å—Ç–≤—É–π –≤–º–µ—Å—Ç–µ —Å –í–∏—Ä—É—Å–æ–º</p>
                                <p><i class="fas fa-sun"></i> –ü—Ä–∏—Ç–≤–æ—Ä—è–π—Å—è –º–∏—Ä–Ω—ã–º –∂–∏—Ç–µ–ª–µ–º</p>
                            </div>
                        </div>
                        <div class="card-footer">
                            <div class="card-id">–ö–∞—Ä—Ç–æ—á–∫–∞ 2</div>
                        </div>
                    </div>

                    <!-- –§–∞–≥–æ—Ü–∏—Ç -->
                    <div class="card immune">
                        <div class="card-header">
                            <span class="card-emoji">‚ö™</span>
                            <h3>–§–∞–≥–æ—Ü–∏—Ç</h3>
                            <span class="card-team">–ò–º–º—É–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞</span>
                        </div>
                        <div class="card-body">
                            <div class="card-description">
                                <p><strong>–¶–µ–ª—å:</strong> –ó–∞—â–∏—Ç–∏—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–º –æ—Ç –ø–∞—Ç–æ–≥–µ–Ω–æ–≤</p>
                                <p><strong>–ù–æ—á—å—é:</strong> –ó–∞—â–∏—â–∞–µ—à—å –æ–¥–Ω—É –∫–ª–µ—Ç–∫—É –æ—Ç –∑–∞—Ä–∞–∂–µ–Ω–∏—è</p>
                                <p><strong>–û—Å–æ–±–æ–µ:</strong> –ù–µ –º–æ–∂–µ—à—å –∑–∞—â–∏—â–∞—Ç—å —Å–µ–±—è –¥–≤–∞–∂–¥—ã –ø–æ–¥—Ä—è–¥</p>
                            </div>
                            <div class="card-instruction">
                                <p><i class="fas fa-moon"></i> –ü–æ–∫–∞–∂–∏ –≤–µ–¥—É—â–µ–º—É –Ω–æ–º–µ—Ä –∏–≥—Ä–æ–∫–∞ –¥–ª—è –∑–∞—â–∏—Ç—ã</p>
                                <p><i class="fas fa-sun"></i> –ü–æ–º–æ–≥–∏ –ª–∏–º—Ñ–æ—Ü–∏—Ç—É –Ω–∞–π—Ç–∏ –ø–∞—Ç–æ–≥–µ–Ω–æ–≤</p>
                            </div>
                        </div>
                        <div class="card-footer">
                            <div class="card-id">–ö–∞—Ä—Ç–æ—á–∫–∞ 3</div>
                        </div>
                    </div>

                    <!-- –õ–∏–º—Ñ–æ—Ü–∏—Ç -->
                    <div class="card immune">
                        <div class="card-header">
                            <span class="card-emoji">üî¨</span>
                            <h3>–õ–∏–º—Ñ–æ—Ü–∏—Ç</h3>
                            <span class="card-team">–ò–º–º—É–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞</span>
                        </div>
                        <div class="card-body">
                            <div class="card-description">
                                <p><strong>–¶–µ–ª—å:</strong> –í—ã—á–∏—Å–ª–∏—Ç—å –≤—Å–µ—Ö –ø–∞—Ç–æ–≥–µ–Ω–æ–≤</p>
                                <p><strong>–ù–æ—á—å—é:</strong> –ü—Ä–æ–≤–µ—Ä—è–µ—à—å –æ–¥–Ω–æ–≥–æ –∏–≥—Ä–æ–∫–∞ (–ø–∞—Ç–æ–≥–µ–Ω/–Ω–µ –ø–∞—Ç–æ–≥–µ–Ω)</p>
                                <p><strong>–û—Å–æ–±–æ–µ:</strong> –ü–æ–ª—É—á–∞–µ—à—å –æ—Ç–≤–µ—Ç –æ—Ç –≤–µ–¥—É—â–µ–≥–æ</p>
                            </div>
                            <div class="card-instruction">
                                <p><i class="fas fa-moon"></i> –ü–æ–∫–∞–∂–∏ –≤–µ–¥—É—â–µ–º—É –Ω–æ–º–µ—Ä –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏</p>
                                <p><i class="fas fa-sun"></i> –ò—Å–ø–æ–ª—å–∑—É–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ</p>
                            </div>
                        </div>
                        <div class="card-footer">
                            <div class="card-id">–ö–∞—Ä—Ç–æ—á–∫–∞ 4</div>
                        </div>
                    </div>

                    <!-- –ó–¥–æ—Ä–æ–≤–∞—è –∫–ª–µ—Ç–∫–∞ -->
                    <div class="card healthy">
                        <div class="card-header">
                            <span class="card-emoji">üíä</span>
                            <h3>–ó–¥–æ—Ä–æ–≤–∞—è –∫–ª–µ—Ç–∫–∞</h3>
                            <span class="card-team">–ò–º–º—É–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞</span>
                        </div>
                        <div class="card-body">
                            <div class="card-description">
                                <p><strong>–¶–µ–ª—å:</strong> –í—ã–∂–∏—Ç—å –∏ –ø–æ–º–æ—á—å –∏–º–º—É–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ</p>
                                <p><strong>–ù–æ—á—å—é:</strong> –°–ø–∏—à—å</p>
                                <p><strong>–û—Å–æ–±–æ–µ:</strong> –ú–æ–∂–µ—à—å —Å—Ç–∞—Ç—å –º–∏—à–µ–Ω—å—é –ø–∞—Ç–æ–≥–µ–Ω–æ–≤</p>
                            </div>
                            <div class="card-instruction">
                                <p><i class="fas fa-moon"></i> –°–ø–∏ –∫—Ä–µ–ø–∫–æ</p>
                                <p><i class="fas fa-sun"></i> –í–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ —Å–ª—É—à–∞–π –æ–±—Å—É–∂–¥–µ–Ω–∏—è</p>
                                <p>–ì–æ–ª–æ—Å—É–π –∑–∞ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤</p>
                            </div>
                        </div>
                        <div class="card-footer">
                            <div class="card-id">–ö–∞—Ä—Ç–æ—á–∫–∞ 5+</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ -->
            <div class="print-section">
                <h2><i class="fas fa-rocket"></i> –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –Ω–∞–±–æ—Ä (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–æ–ª–∏)</h2>
                <div class="cards-container print-grid">
                    <!-- –ì—Ä–∏–±–æ–∫ -->
                    <div class="card pathogen">
                        <div class="card-header">
                            <span class="card-emoji">üçÑ</span>
                            <h3>–ì—Ä–∏–±–æ–∫</h3>
                            <span class="card-team">–ü–∞—Ç–æ–≥–µ–Ω</span>
                        </div>
                        <div class="card-body">
                            <div class="card-description">
                                <p><strong>–¶–µ–ª—å:</strong> –ó–∞—Ä–∞–∑–∏—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–º —Ç–æ–∫—Å–∏–Ω–∞–º–∏</p>
                                <p><strong>–ù–æ—á—å—é:</strong> –î–µ–π—Å—Ç–≤—É–µ—à—å –≤–º–µ—Å—Ç–µ —Å –¥—Ä—É–≥–∏–º–∏ –ø–∞—Ç–æ–≥–µ–Ω–∞–º–∏</p>
                                <p><strong>–û—Å–æ–±–æ–µ:</strong> –ü—Ä–∏ –≥–∏–±–µ–ª–∏ –∑–∞—Ä–∞–∂–∞–µ—Ç —Ç–æ–≥–æ, –∫—Ç–æ –∑–∞ —Ç–µ–±—è –ø—Ä–æ–≥–æ–ª–æ—Å–æ–≤–∞–ª</p>
                            </div>
                            <div class="card-instruction">
                                <p><i class="fas fa-skull-crossbones"></i> –¢–≤–æ–π —è–¥ –æ–ø–∞—Å–µ–Ω –¥–∞–∂–µ –ø–æ—Å–ª–µ —Å–º–µ—Ä—Ç–∏</p>
                            </div>
                        </div>
                    </div>

                    <!-- –ü–∞—Ä–∞–∑–∏—Ç -->
                    <div class="card pathogen">
                        <div class="card-header">
                            <span class="card-emoji">üêõ</span>
                            <h3>–ü–∞—Ä–∞–∑–∏—Ç</h3>
                            <span class="card-team">–ü–∞—Ç–æ–≥–µ–Ω</span>
                        </div>
                        <div class="card-body">
                            <div class="card-description">
                                <p><strong>–¶–µ–ª—å:</strong> –û—Å—Ç–∞—Ç—å—Å—è –Ω–µ–∑–∞–º–µ—á–µ–Ω–Ω—ã–º</p>
                                <p><strong>–ù–æ—á—å—é:</strong> –î–µ–π—Å—Ç–≤—É–µ—à—å —Å –ø–∞—Ç–æ–≥–µ–Ω–∞–º–∏</p>
                                <p><strong>–û—Å–æ–±–æ–µ:</strong> –ü—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—à—å—Å—è –∫–∞–∫ "–∑–¥–æ—Ä–æ–≤–∞—è –∫–ª–µ—Ç–∫–∞"</p>
                            </div>
                            <div class="card-instruction">
                                <p><i class="fas fa-user-secret"></i> –ú–∞—Å–∫–∏—Ä—É–π—Å—è –ø–æ–¥ –∑–¥–æ—Ä–æ–≤—É—é –∫–ª–µ—Ç–∫—É</p>
                            </div>
                        </div>
                    </div>

                    <!-- –ö–ª–µ—Ç–∫–∞ –ø–∞–º—è—Ç–∏ -->
                    <div class="card immune">
                        <div class="card-header">
                            <span class="card-emoji">üíæ</span>
                            <h3>–ö–ª–µ—Ç–∫–∞ –ø–∞–º—è—Ç–∏</h3>
                            <span class="card-team">–ò–º–º—É–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞</span>
                        </div>
                        <div class="card-body">
                            <div class="card-description">
                                <p><strong>–¶–µ–ª—å:</strong> –ó–∞–ø–æ–º–Ω–∏—Ç—å –ø–∞—Ç–æ–≥–µ–Ω–æ–≤</p>
                                <p><strong>–ù–æ—á—å—é:</strong> –í–∏–¥–∏—à—å, –∫–æ–≥–æ –ø—Ä–æ–≤–µ—Ä—è–ª –ª–∏–º—Ñ–æ—Ü–∏—Ç</p>
                                <p><strong>–û—Å–æ–±–æ–µ:</strong> –ó–Ω–∞–µ—à—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏</p>
                            </div>
                            <div class="card-instruction">
                                <p><i class="fas fa-brain"></i> –ó–∞–ø–æ–º–∏–Ω–∞–π –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤</p>
                                <p><i class="fas fa-sun"></i> –ü–æ–º–æ–≥–∞–π –ª–∏–º—Ñ–æ—Ü–∏—Ç—É –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å</p>
                            </div>
                        </div>
                    </div>

                    <!-- –ê–ª–ª–µ—Ä–≥–µ–Ω -->
                    <div class="card neutral">
                        <div class="card-header">
                            <span class="card-emoji">üå∏</span>
                            <h3>–ê–ª–ª–µ—Ä–≥–µ–Ω</h3>
                            <span class="card-team">–ù–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π</span>
                        </div>
                        <div class="card-body">
                            <div class="card-description">
                                <p><strong>–¶–µ–ª—å:</strong> –û—Å—Ç–∞—Ç—å—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–º –≤—ã–∂–∏–≤—à–∏–º</p>
                                <p><strong>–ù–æ—á—å—é:</strong> –ú–æ–∂–µ—à—å –≤—ã–±—Ä–∞—Ç—å –æ–¥–Ω—É –∂–µ—Ä—Ç–≤—É</p>
                                <p><strong>–û—Å–æ–±–æ–µ:</strong> –í—ã–∏–≥—Ä—ã–≤–∞–µ—à—å –æ–¥–∏–Ω</p>
                            </div>
                            <div class="card-instruction">
                                <p><i class="fas fa-user-ninja"></i> –î–µ–π—Å—Ç–≤—É–π –≤ –æ–¥–∏–Ω–æ—á–∫—É</p>
                                <p><i class="fas fa-crown"></i> –ü–µ—Ä–µ–∂–∏–≤–∏ –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="print-notes no-print">
                <h3><i class="fas fa-lightbulb"></i> –°–æ–≤–µ—Ç—ã –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 20px;">
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 10px;">
                        <h4>–ü–µ—Ä–µ–¥ –∏–≥—Ä–æ–π</h4>
                        <p>‚Ä¢ –†–∞–∑–¥–∞–π—Ç–µ –∫–∞—Ä—Ç–æ—á–∫–∏ —Å–ª—É—á–∞–π–Ω—ã–º –æ–±—Ä–∞–∑–æ–º</p>
                        <p>‚Ä¢ –î–∞–π—Ç–µ 1 –º–∏–Ω—É—Ç—É –Ω–∞ –∏–∑—É—á–µ–Ω–∏–µ —Ä–æ–ª–∏</p>
                        <p>‚Ä¢ –ü–æ–ø—Ä–æ—Å–∏—Ç–µ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Ä–æ–ª–∏ –≤ —Ç–∞–π–Ω–µ</p>
                    </div>
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 10px;">
                        <h4>–í–æ –≤—Ä–µ–º—è –∏–≥—Ä—ã</h4>
                        <p>‚Ä¢ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–∞–π–º–µ—Ä –¥–ª—è —Ñ–∞–∑ (1-2 –º–∏–Ω)</p>
                        <p>‚Ä¢ –ó–∞–ø–∏—Å—ã–≤–∞–π—Ç–µ —Ö–æ–¥ –∏–≥—Ä—ã –Ω–∞ –¥–æ—Å–∫–µ</p>
                        <p>‚Ä¢ –û–±—ä—è—Å–Ω—è–π—Ç–µ –±–∏–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∞–Ω–∞–ª–æ–≥–∏–∏</p>
                    </div>
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 10px;">
                        <h4>–ü–æ—Å–ª–µ –∏–≥—Ä—ã</h4>
                        <p>‚Ä¢ –û–±—Å—É–¥–∏—Ç–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∫–æ–º–∞–Ω–¥</p>
                        <p>‚Ä¢ –°–≤—è–∂–∏—Ç–µ —Å —Ä–µ–∞–ª—å–Ω–æ–π –∏–º–º—É–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π</p>
                        <p>‚Ä¢ –°–ø—Ä–æ—Å–∏—Ç–µ, —á—Ç–æ —É–∑–Ω–∞–ª–∏ –Ω–æ–≤–æ–≥–æ</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- –ö–ù–û–ü–ö–ê –ü–†–û–ö–†–£–¢–ö–ò –í–í–ï–†–• -->
        <div class="scroll-to-top no-print" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
            <i class="fas fa-arrow-up"></i>
        </div>
    </div>

    <!-- –≠–ö–†–ê–ù –ó–ê–í–ï–†–®–ï–ù–ò–Ø –ò–ì–†–´ (—Å–∫—Ä—ã—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
    <div id="gameOverScreen" class="game-over-screen" style="display: none;"></div>

    <script>
        // ===== –ì–õ–û–ë–ê–õ–¨–ù–´–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï =====
        let currentGame = null;
        let gameState = {
            players: [],
            currentPhase: 'setup',
            night: {
                pathogenTarget: null,
                phagocyteTarget: null,
                lymphocyteTarget: null,
                lymphocyteResult: null,
                completed: false
            },
            day: {
                votes: {},
                killedPlayer: null,
                votedPlayer: null
            },
            round: 1,
            history: [],
            isAdvanced: false
        };

        // ===== –†–û–õ–ò –ò–ì–†–´ =====
        const ROLES = {
            VIRUS: {
                emoji: 'ü¶†',
                name: '–í–∏—Ä—É—Å',
                team: 'pathogen',
                description: '–ó–∞—Ä–∞–∂–∞–µ—Ç –∏–≥—Ä–æ–∫–æ–≤ –Ω–æ—á—å—é',
                nightAction: true,
                priority: 1
            },
            BACTERIA: {
                emoji: 'üß´',
                name: '–ë–∞–∫—Ç–µ—Ä–∏—è',
                team: 'pathogen',
                description: '–ó–∞—Ä–∞–∂–∞–µ—Ç –∏–≥—Ä–æ–∫–æ–≤ –Ω–æ—á—å—é',
                nightAction: true,
                priority: 1
            },
            PHAGOCYTE: {
                emoji: '‚ö™',
                name: '–§–∞–≥–æ—Ü–∏—Ç',
                team: 'immune',
                description: '–ó–∞—â–∏—â–∞–µ—Ç –æ–¥–Ω–æ–≥–æ –∏–≥—Ä–æ–∫–∞ –Ω–æ—á—å—é',
                nightAction: true,
                priority: 3
            },
            LYMPHOCYTE: {
                emoji: 'üî¨',
                name: '–õ–∏–º—Ñ–æ—Ü–∏—Ç',
                team: 'immune',
                description: '–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –æ–¥–Ω–æ–≥–æ –∏–≥—Ä–æ–∫–∞ –Ω–æ—á—å—é',
                nightAction: true,
                priority: 4
            },
            HEALTHY_CELL: {
                emoji: 'üíä',
                name: '–ó–¥–æ—Ä–æ–≤–∞—è –∫–ª–µ—Ç–∫–∞',
                team: 'immune',
                description: '–ù–µ –∏–º–µ–µ—Ç –Ω–æ—á–Ω—ã—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π',
                nightAction: false,
                priority: 0
            },
            // –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ä–æ–ª–∏
            FUNGUS: {
                emoji: 'üçÑ',
                name: '–ì—Ä–∏–±–æ–∫',
                team: 'pathogen',
                description: '–ü—Ä–∏ —Å–º–µ—Ä—Ç–∏ –∑–∞—Ä–∞–∂–∞–µ—Ç —É–±–∏–π—Ü—É',
                nightAction: true,
                priority: 1,
                advanced: true
            },
            PARASITE: {
                emoji: 'üêõ',
                name: '–ü–∞—Ä–∞–∑–∏—Ç',
                team: 'pathogen',
                description: '–ú–∞—Å–∫–∏—Ä—É–µ—Ç—Å—è –ø–æ–¥ –∑–¥–æ—Ä–æ–≤—É—é –∫–ª–µ—Ç–∫—É',
                nightAction: true,
                priority: 1,
                advanced: true
            },
            MEMORY_CELL: {
                emoji: 'üíæ',
                name: '–ö–ª–µ—Ç–∫–∞ –ø–∞–º—è—Ç–∏',
                team: 'immune',
                description: '–í–∏–¥–∏—Ç –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤',
                nightAction: true,
                priority: 5,
                advanced: true
            },
            ALLERGEN: {
                emoji: 'üå∏',
                name: '–ê–ª–ª–µ—Ä–≥–µ–Ω',
                team: 'neutral',
                description: '–í—ã–∏–≥—Ä—ã–≤–∞–µ—Ç –æ–¥–∏–Ω, –ø–µ—Ä–µ–∂–∏–≤ –≤—Å–µ—Ö',
                nightAction: true,
                priority: 2,
                advanced: true
            }
        };

        // ===== –£–ü–†–ê–í–õ–ï–ù–ò–ï –°–¢–†–ê–ù–ò–¶–ê–ú–ò =====
        function showPage(pageId) {
            // –°–∫—Ä—ã—Ç—å –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // –ü–æ–∫–∞–∑–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
            document.getElementById(pageId).classList.add('active');
            
            // –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç—å –≤–≤–µ—Ä—Ö
            window.scrollTo({top: 0, behavior: 'smooth'});
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
            if (pageId === 'simple-game') {
                initSimpleGame();
            } else if (pageId === 'advanced-game') {
                initAdvancedGame();
            } else if (pageId === 'cards') {
                initCardsPage();
            }
        }

        // ===== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –£–ü–†–û–©–ï–ù–ù–û–ô –ò–ì–†–´ =====
        function initSimpleGame() {
            currentGame = 'simple';
            gameState.isAdvanced = false;
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–ª–∞–π–¥–µ—Ä–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏–≥—Ä–æ–∫–æ–≤
            const playerCountSlider = document.getElementById('playerCount');
            const countValue = document.getElementById('countValue');
            
            if (playerCountSlider && countValue) {
                playerCountSlider.addEventListener('input', function() {
                    countValue.textContent = this.value;
                    updateSimpleRoleDistribution();
                });
                
                // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
                updateSimpleRoleDistribution();
            }
            
            // –ö–Ω–æ–ø–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ä–æ–ª–µ–π
            const generateBtn = document.getElementById('generateRoles');
            if (generateBtn) {
                generateBtn.onclick = generateSimpleRoles;
            }
            
            // –ö–Ω–æ–ø–∫–∞ –Ω–∞—á–∞–ª–∞ –∏–≥—Ä—ã
            const startBtn = document.getElementById('startGame');
            if (startBtn) {
                startBtn.onclick = startSimpleGame;
            }
            
            // –ö–Ω–æ–ø–∫–∏ —Ñ–∞–∑ –∏–≥—Ä—ã
            const nightBtn = document.getElementById('startNight');
            const dayBtn = document.getElementById('startDay');
            
            if (nightBtn) nightBtn.onclick = startSimpleNight;
            if (dayBtn) dayBtn.onclick = startSimpleDay;
            
            // –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π
            setupSimpleActionButtons();
            
            // –°–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è
            resetGameState();
        }

        function updateSimpleRoleDistribution() {
            const playerCount = parseInt(document.getElementById('playerCount')?.value || 8);
            const rolesList = document.getElementById('simpleRolesList');
            
            if (!rolesList) return;
            
            const roles = calculateSimpleRoles(playerCount);
            let rolesHTML = '';
            
            Object.entries(roles).forEach(([roleName, count]) => {
                const roleInfo = Object.values(ROLES).find(r => r.name === roleName);
                if (roleInfo && count > 0) {
                    rolesHTML += `
                        <div class="role-item">
                            <span class="role-emoji-small" style="font-size: 1.5em;">${roleInfo.emoji}</span>
                            <span class="role-name">${roleName}: ${count}</span>
                        </div>
                    `;
                }
            });
            
            rolesList.innerHTML = rolesHTML;
        }

        function calculateSimpleRoles(playerCount) {
            // –ë–∞–∑–æ–≤–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–Ω–æ–π –∏–≥—Ä—ã
            const roles = {
                '–í–∏—Ä—É—Å': 1,
                '–ë–∞–∫—Ç–µ—Ä–∏—è': 1,
                '–§–∞–≥–æ—Ü–∏—Ç': 1,
                '–õ–∏–º—Ñ–æ—Ü–∏—Ç': 1,
                '–ó–¥–æ—Ä–æ–≤–∞—è –∫–ª–µ—Ç–∫–∞': Math.max(playerCount - 4, 0)
            };
            return roles;
        }

        function generateSimpleRoles() {
            const playerCount = parseInt(document.getElementById('playerCount')?.value || 8);
            
            // –°–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä—ã
            resetGameState();
            gameState.isAdvanced = false;
            
            // –°–æ–∑–¥–∞–µ–º –º–∞—Å—Å–∏–≤ —Ä–æ–ª–µ–π
            const rolesDistribution = calculateSimpleRoles(playerCount);
            let roles = [];
            
            Object.entries(rolesDistribution).forEach(([roleName, count]) => {
                const roleKey = Object.keys(ROLES).find(key => ROLES[key].name === roleName);
                if (roleKey) {
                    for (let i = 0; i < count; i++) {
                        roles.push(ROLES[roleKey]);
                    }
                }
            });
            
            // –ü–µ—Ä–µ–º–µ—à–∏–≤–∞–µ–º —Ä–æ–ª–∏
            roles = shuffleArray(roles);
            
            // –°–æ–∑–¥–∞–µ–º –∏–≥—Ä–æ–∫–æ–≤
            gameState.players = [];
            for (let i = 0; i < playerCount; i++) {
                gameState.players.push({
                    id: i + 1,
                    name: `–ò–≥—Ä–æ–∫ ${i + 1}`,
                    role: roles[i],
                    alive: true,
                    protected: false,
                    checked: false,
                    votes: 0
                });
            }
            
            // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É –Ω–∞—á–∞–ª–∞ –∏–≥—Ä—ã
            const startBtn = document.getElementById('startGame');
            if (startBtn) {
                startBtn.disabled = false;
            }
            
            // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –∏–≥—Ä–æ–∫–æ–≤
            renderSimplePlayers();
            addToSimpleLog('–†–æ–ª–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã! –ì–æ—Ç–æ–≤—ã –∫ –∏–≥—Ä–µ!', 'system');
        }

        function startSimpleGame() {
            gameState.currentPhase = 'night';
            document.getElementById('currentPhase').textContent = '–ù–æ—á—å';
            
            // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏ —Ñ–∞–∑
            const nightBtn = document.getElementById('startNight');
            const dayBtn = document.getElementById('startDay');
            if (nightBtn) nightBtn.disabled = false;
            if (dayBtn) dayBtn.disabled = true;
            
            // –î–µ–∞–∫—Ç–∏–≤–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É –Ω–∞—á–∞–ª–∞ –∏–≥—Ä—ã
            const startBtn = document.getElementById('startGame');
            if (startBtn) startBtn.disabled = true;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–≥—Ä–æ–∫–æ–≤
            renderSimplePlayers();
            addToSimpleLog('–ò–≥—Ä–∞ –Ω–∞—á–∞–ª–∞—Å—å! –ü–µ—Ä–≤–∞—è –Ω–æ—á—å.', 'system');
        }

        function startSimpleNight() {
            // –°–±—Ä–æ—Å –Ω–æ—á–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
            gameState.night = {
                pathogenTarget: null,
                phagocyteTarget: null,
                lymphocyteTarget: null,
                lymphocyteResult: null,
                completed: false
            };
            
            // –°–±—Ä–æ—Å –∑–∞—â–∏—Ç—ã
            gameState.players.forEach(player => {
                player.protected = false;
                player.checked = false;
            });
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–∞–Ω–µ–ª—å –Ω–æ—á–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
            const nightActions = document.getElementById('nightActions');
            const dayActions = document.getElementById('dayActions');
            
            if (nightActions) nightActions.style.display = 'block';
            if (dayActions) dayActions.style.display = 'none';
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–∫–∏ —Ü–µ–ª–µ–π
            updateSimpleTargetLists();
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–µ–π—Å—Ç–≤–∏—è –ø–∞—Ç–æ–≥–µ–Ω–æ–≤ (–æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å–∫—Ä—ã—Ç—ã)
            const pathogenAction = document.getElementById('pathogenAction');
            const phagocyteAction = document.getElementById('phagocyteAction');
            const lymphocyteAction = document.getElementById('lymphocyteAction');
            
            if (pathogenAction) pathogenAction.style.display = 'block';
            if (phagocyteAction) phagocyteAction.style.display = 'none';
            if (lymphocyteAction) lymphocyteAction.style.display = 'none';
            
            // –î–µ–∞–∫—Ç–∏–≤–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏ —Ñ–∞–∑
            document.getElementById('startNight').disabled = true;
            document.getElementById('startDay').disabled = true;
            
            addToSimpleLog(`–ù–æ—á—å ${gameState.round}. –í—Å–µ —Å–ø—è—Ç...`, 'night');
        }

        function setupSimpleActionButtons() {
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –Ω–æ—á–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
            document.getElementById('submitPathogen')?.addEventListener('click', handleSimplePathogenAction);
            document.getElementById('submitPhagocyte')?.addEventListener('click', handleSimplePhagocyteAction);
            document.getElementById('submitLymphocyte')?.addEventListener('click', handleSimpleLymphocyteAction);
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è
            document.getElementById('submitVote')?.addEventListener('click', handleSimpleVote);
        }

        function handleSimplePathogenAction() {
            const targetSelect = document.getElementById('pathogenTarget');
            if (targetSelect && targetSelect.value) {
                gameState.night.pathogenTarget = parseInt(targetSelect.value);
                
                // –°–∫—Ä—ã–≤–∞–µ–º –¥–µ–π—Å—Ç–≤–∏—è –ø–∞—Ç–æ–≥–µ–Ω–æ–≤, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ñ–∞–≥–æ—Ü–∏—Ç–∞
                document.getElementById('pathogenAction').style.display = 'none';
                document.getElementById('phagocyteAction').style.display = 'block';
                
                addToSimpleLog(`–ü–∞—Ç–æ–≥–µ–Ω—ã –≤—ã–±—Ä–∞–ª–∏ —Ü–µ–ª—å: –ò–≥—Ä–æ–∫ ${gameState.night.pathogenTarget}`, 'pathogen');
            }
        }

        function handleSimplePhagocyteAction() {
            const targetSelect = document.getElementById('phagocyteTarget');
            if (targetSelect && targetSelect.value) {
                gameState.night.phagocyteTarget = parseInt(targetSelect.value);
                
                // –ó–∞—â–∏—â–∞–µ–º –∏–≥—Ä–æ–∫–∞
                const player = gameState.players.find(p => p.id === gameState.night.phagocyteTarget);
                if (player) {
                    player.protected = true;
                }
                
                // –°–∫—Ä—ã–≤–∞–µ–º –¥–µ–π—Å—Ç–≤–∏—è —Ñ–∞–≥–æ—Ü–∏—Ç–∞, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ª–∏–º—Ñ–æ—Ü–∏—Ç–∞
                document.getElementById('phagocyteAction').style.display = 'none';
                document.getElementById('lymphocyteAction').style.display = 'block';
                
                addToSimpleLog(`–§–∞–≥–æ—Ü–∏—Ç –∑–∞—â–∏—Ç–∏–ª –ò–≥—Ä–æ–∫–∞ ${gameState.night.phagocyteTarget}`, 'immune');
            }
        }

        function handleSimpleLymphocyteAction() {
            const targetSelect = document.getElementById('lymphocyteTarget');
            if (targetSelect && targetSelect.value) {
                gameState.night.lymphocyteTarget = parseInt(targetSelect.value);
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏–≥—Ä–æ–∫–∞
                const player = gameState.players.find(p => p.id === gameState.night.lymphocyteTarget);
                if (player) {
                    player.checked = true;
                    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
                    gameState.night.lymphocyteResult = player.role.team === 'pathogen' ? '–ø–∞—Ç–æ–≥–µ–Ω' : '–Ω–µ –ø–∞—Ç–æ–≥–µ–Ω';
                }
                
                // –ó–∞–≤–µ—Ä—à–∞–µ–º –Ω–æ—á—å
                gameState.night.completed = true;
                document.getElementById('nightActions').style.display = 'none';
                
                // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É –Ω–∞—á–∞–ª–∞ –¥–Ω—è
                document.getElementById('startDay').disabled = false;
                
                addToSimpleLog(`–õ–∏–º—Ñ–æ—Ü–∏—Ç –ø—Ä–æ–≤–µ—Ä–∏–ª –ò–≥—Ä–æ–∫–∞ ${gameState.night.lymphocyteTarget}: ${gameState.night.lymphocyteResult}`, 'immune');
                
                // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–æ—á–∏
                determineSimpleNightResult();
            }
        }

        function determineSimpleNightResult() {
            const nightResult = document.getElementById('nightResult');
            if (!nightResult) return;
            
            let resultText = '';
            const targetPlayer = gameState.players.find(p => p.id === gameState.night.pathogenTarget);
            
            if (targetPlayer) {
                if (targetPlayer.protected) {
                    resultText = `–ò–≥—Ä–æ–∫ ${targetPlayer.id} –±—ã–ª –∞—Ç–∞–∫–æ–≤–∞–Ω, –Ω–æ –∑–∞—â–∏—â–µ–Ω —Ñ–∞–≥–æ—Ü–∏—Ç–æ–º!`;
                    addToSimpleLog(resultText, 'immune');
                } else {
                    targetPlayer.alive = false;
                    resultText = `–ò–≥—Ä–æ–∫ ${targetPlayer.id} –±—ã–ª –∑–∞—Ä–∞–∂–µ–Ω –ø–∞—Ç–æ–≥–µ–Ω–∞–º–∏ –∏ –ø–æ–≥–∏–±!`;
                    addToSimpleLog(resultText, 'pathogen');
                }
            }
            
            nightResult.innerHTML = `<div class="result-message">${resultText}</div>`;
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å–ª–æ–≤–∏—è –ø–æ–±–µ–¥—ã
            checkSimpleWinConditions();
        }

        function startSimpleDay() {
            gameState.currentPhase = 'day';
            document.getElementById('currentPhase').textContent = '–î–µ–Ω—å';
            
            // –°–∫—Ä—ã–≤–∞–µ–º –Ω–æ—á–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–Ω–µ–≤–Ω—ã–µ
            document.getElementById('nightActions').style.display = 'none';
            document.getElementById('dayActions').style.display = 'block';
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ –¥–ª—è –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è
            updateSimpleVoteList();
            
            // –î–µ–∞–∫—Ç–∏–≤–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏ —Ñ–∞–∑
            document.getElementById('startNight').disabled = true;
            document.getElementById('startDay').disabled = true;
            
            addToSimpleLog(`–î–µ–Ω—å ${gameState.round}. –û–±—Å—É–∂–¥–µ–Ω–∏–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è!`, 'day');
        }

        function handleSimpleVote() {
            const voteSelect = document.getElementById('voteTarget');
            if (voteSelect && voteSelect.value) {
                const votedId = parseInt(voteSelect.value);
                
                // –ù–∞—Ö–æ–¥–∏–º –∏–≥—Ä–æ–∫–∞
                const votedPlayer = gameState.players.find(p => p.id === votedId);
                const voteResult = document.getElementById('voteResult');
                
                if (votedPlayer && voteResult) {
                    votedPlayer.alive = false;
                    
                    let resultText = `–ò–≥—Ä–æ–∫ ${votedPlayer.id} –∫–∞–∑–Ω–µ–Ω! –û–Ω –±—ã–ª ${votedPlayer.role.name} ${votedPlayer.role.emoji}`;
                    voteResult.innerHTML = `<div class="result-message">${resultText}</div>`;
                    
                    addToSimpleLog(resultText, 'vote');
                    
                    // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Ä–∞—É–Ω–¥
                    gameState.round++;
                    
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å–ª–æ–≤–∏—è –ø–æ–±–µ–¥—ã
                    if (!checkSimpleWinConditions()) {
                        // –ï—Å–ª–∏ –∏–≥—Ä–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è, –≥–æ—Ç–æ–≤–∏–º—Å—è –∫ —Å–ª–µ–¥—É—é—â–µ–π –Ω–æ—á–∏
                        setTimeout(() => {
                            // –°–∫—Ä—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è
                            document.getElementById('voteResult').innerHTML = '';
                            document.getElementById('nightResult').innerHTML = '';
                            
                            // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É –Ω–∞—á–∞–ª–∞ –Ω–æ—á–∏
                            document.getElementById('startNight').disabled = false;
                            document.getElementById('dayActions').style.display = 'none';
                            
                            addToSimpleLog(`–†–∞—É–Ω–¥ ${gameState.round} –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è!`, 'system');
                        }, 3000);
                    }
                }
                
                renderSimplePlayers();
            }
        }

        function checkSimpleWinConditions() {
            const alivePlayers = gameState.players.filter(p => p.alive);
            const pathogens = alivePlayers.filter(p => p.role.team === 'pathogen');
            const immune = alivePlayers.filter(p => p.role.team === 'immune');
            
            let winner = null;
            let message = '';
            
            // –ü–∞—Ç–æ–≥–µ–Ω—ã –ø–æ–±–µ–∂–¥–∞—é—Ç, –µ—Å–ª–∏ –∏—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–≤–Ω–æ –∏–ª–∏ –±–æ–ª—å—à–µ –∏–º–º—É–Ω–Ω—ã—Ö
            if (pathogens.length >= immune.length && pathogens.length > 0) {
                winner = 'pathogen';
                message = '–ü–∞—Ç–æ–≥–µ–Ω—ã –ø–æ–±–µ–¥–∏–ª–∏! –û—Ä–≥–∞–Ω–∏–∑–º –∑–∞—Ö–≤–∞—á–µ–Ω! ü¶†üß´';
            }
            // –ò–º–º—É–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–æ–±–µ–∂–¥–∞–µ—Ç, –µ—Å–ª–∏ –ø–∞—Ç–æ–≥–µ–Ω–æ–≤ –Ω–µ –æ—Å—Ç–∞–ª–æ—Å—å
            else if (pathogens.length === 0 && immune.length > 0) {
                winner = 'immune';
                message = '–ò–º–º—É–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–æ–±–µ–¥–∏–ª–∞! –û—Ä–≥–∞–Ω–∏–∑–º –∑–∞—â–∏—â—ë–Ω! ‚ö™üî¨';
            }
            
            if (winner) {
                addToSimpleLog(`–ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞! ${message}`, 'winner');
                showGameOverScreen(winner, message);
                return true;
            }
            
            return false;
        }

        function updateSimpleTargetLists() {
            const alivePlayers = gameState.players.filter(p => p.alive);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –≤—Å–µ –≤—ã–ø–∞–¥–∞—é—â–∏–µ —Å–ø–∏—Å–∫–∏
            const selects = ['pathogenTarget', 'phagocyteTarget', 'lymphocyteTarget'];
            selects.forEach(selectId => {
                const select = document.getElementById(selectId);
                if (select) {
                    select.innerHTML = alivePlayers
                        .map(player => `<option value="${player.id}">–ò–≥—Ä–æ–∫ ${player.id}</option>`)
                        .join('');
                }
            });
        }

        function updateSimpleVoteList() {
            const voteSelect = document.getElementById('voteTarget');
            if (voteSelect) {
                const alivePlayers = gameState.players.filter(p => p.alive);
                voteSelect.innerHTML = alivePlayers
                    .map(player => `<option value="${player.id}">–ò–≥—Ä–æ–∫ ${player.id}</option>`)
                    .join('');
            }
        }

        function renderSimplePlayers() {
            const playersList = document.getElementById('playersList');
            if (!playersList) return;
            
            playersList.innerHTML = gameState.players.map(player => `
                <div class="player-card ${player.alive ? 'alive' : 'dead'} ${player.protected ? 'protected' : ''}">
                    <div class="player-number">${player.id}</div>
                    <div class="player-role">${player.role.emoji}</div>
                    <div class="player-info">
                        <div class="player-status">
                            ${player.alive ? '‚úÖ –ñ–∏–≤' : '‚ùå –ü–æ–≥–∏–±'}
                            ${player.protected ? ' üõ°Ô∏è' : ''}
                            ${player.checked ? ' üîç' : ''}
                        </div>
                        <div class="player-votes">–ì–æ–ª–æ—Å–∞: ${player.votes}</div>
                    </div>
                </div>
            `).join('');
        }

        function addToSimpleLog(message, type = 'system') {
            const log = document.getElementById('gameLog');
            if (!log) return;
            
            const types = {
                system: 'üì¢',
                night: 'üåô',
                day: '‚òÄÔ∏è',
                pathogen: 'ü¶†',
                immune: '‚ö™',
                vote: 'üó≥Ô∏è',
                winner: 'üèÜ'
            };
            
            const timestamp = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            const entry = document.createElement('div');
            entry.className = `log-entry`;
            entry.innerHTML = `<span style="opacity: 0.7; font-size: 0.9em;">${timestamp}</span> ${types[type] || 'üìù'} ${message}`;
            
            log.appendChild(entry);
            log.scrollTop = log.scrollHeight;
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –∏—Å—Ç–æ—Ä–∏—é
            gameState.history.push({time: timestamp, message, type});
        }

        // ===== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –†–ê–°–®–ò–†–ï–ù–ù–û–ô –ò–ì–†–´ =====
        function initAdvancedGame() {
            currentGame = 'advanced';
            gameState.isAdvanced = true;
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–ª–∞–π–¥–µ—Ä–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏–≥—Ä–æ–∫–æ–≤
            const playerCountSlider = document.getElementById('advPlayerCount');
            const countValue = document.getElementById('advCountValue');
            
            if (playerCountSlider && countValue) {
                playerCountSlider.addEventListener('input', function() {
                    countValue.textContent = this.value;
                });
            }
            
            // –ö–Ω–æ–ø–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ä–æ–ª–µ–π
            const generateBtn = document.getElementById('advGenerateRoles');
            if (generateBtn) {
                generateBtn.onclick = generateAdvancedRoles;
            }
            
            // –ö–Ω–æ–ø–∫–∞ –Ω–∞—á–∞–ª–∞ –∏–≥—Ä—ã
            const startBtn = document.getElementById('advStartGame');
            if (startBtn) {
                startBtn.onclick = startAdvancedGame;
            }
            
            // –°–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è
            resetGameState();
        }

        function generateAdvancedRoles() {
            const playerCount = parseInt(document.getElementById('advPlayerCount')?.value || 10);
            
            // –°–æ–±–∏—Ä–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–µ —Ä–æ–ª–∏
            const selectedRoles = [];
            document.querySelectorAll('input[name="role"]:checked').forEach(checkbox => {
                const roleKey = checkbox.value.toUpperCase();
                if (ROLES[roleKey]) {
                    selectedRoles.push(ROLES[roleKey]);
                }
            });
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –≤—ã–±—Ä–∞–Ω—ã —Ä–æ–ª–∏
            if (selectedRoles.length === 0) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–Ω—É —Ä–æ–ª—å!');
                return;
            }
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∑–¥–æ—Ä–æ–≤—ã–µ –∫–ª–µ—Ç–∫–∏, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
            const healthyCellsNeeded = playerCount - selectedRoles.length;
            for (let i = 0; i < healthyCellsNeeded; i++) {
                selectedRoles.push(ROLES.HEALTHY_CELL);
            }
            
            // –ü–µ—Ä–µ–º–µ—à–∏–≤–∞–µ–º —Ä–æ–ª–∏
            const shuffledRoles = shuffleArray(selectedRoles);
            
            // –°–æ–∑–¥–∞–µ–º –∏–≥—Ä–æ–∫–æ–≤
            gameState.players = [];
            for (let i = 0; i < playerCount; i++) {
                gameState.players.push({
                    id: i + 1,
                    name: `–ò–≥—Ä–æ–∫ ${i + 1}`,
                    role: shuffledRoles[i] || ROLES.HEALTHY_CELL,
                    alive: true,
                    protected: false,
                    checked: false,
                    votes: 0
                });
            }
            
            // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É –Ω–∞—á–∞–ª–∞ –∏–≥—Ä—ã
            const startBtn = document.getElementById('advStartGame');
            if (startBtn) {
                startBtn.disabled = false;
            }
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏–≥—Ä—ã
            document.getElementById('advancedGameInterface').style.display = 'block';
            
            // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –∏–≥—Ä–æ–∫–æ–≤
            renderAdvancedPlayers();
            addToAdvancedLog('–†–æ–ª–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã! –ì–æ—Ç–æ–≤—ã –∫ –∏–≥—Ä–µ!', 'system');
        }

        function startAdvancedGame() {
            // –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ —É–ø—Ä–æ—â–µ–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏, –Ω–æ —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏
            alert('–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ! –ü–æ–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É–ø—Ä–æ—â–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é –¥–ª—è –∏–≥—Ä—ã.');
        }

        function renderAdvancedPlayers() {
            const playersList = document.getElementById('advPlayersList');
            if (!playersList) return;
            
            playersList.innerHTML = gameState.players.map(player => `
                <div class="player-card ${player.alive ? 'alive' : 'dead'}">
                    <div class="player-number">${player.id}</div>
                    <div class="player-role">${player.role.emoji}</div>
                    <div class="player-info">
                        <div class="player-status">
                            ${player.alive ? '‚úÖ –ñ–∏–≤' : '‚ùå –ü–æ–≥–∏–±'}
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function addToAdvancedLog(message, type = 'system') {
            const log = document.getElementById('advGameLog');
            if (!log) return;
            
            const timestamp = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            const entry = document.createElement('div');
            entry.className = `log-entry`;
            entry.innerHTML = `<span style="opacity: 0.7; font-size: 0.9em;">${timestamp}</span> üìù ${message}`;
            
            log.appendChild(entry);
            log.scrollTop = log.scrollHeight;
        }

        // ===== –ö–ê–†–¢–û–ß–ö–ò –î–õ–Ø –ü–ï–ß–ê–¢–ò =====
        function initCardsPage() {
            // –î–æ–±–∞–≤–ª—è–µ–º –ª–∏–Ω–∏–∏ —Ä–∞–∑—Ä–µ–∑–∞ –¥–ª—è –ø–µ—á–∞—Ç–∏
            const cards = document.querySelectorAll('.card');
            cards.forEach(card => {
                if (!card.querySelector('.cut-line')) {
                    const cutLine = document.createElement('div');
                    cutLine.className = 'cut-line';
                    cutLine.innerHTML = '‚úÑ - - - - - - - - - - - - - - - ‚úÑ';
                    card.appendChild(cutLine);
                }
            });
        }

        // ===== –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò =====
        function resetGameState() {
            gameState = {
                players: [],
                currentPhase: 'setup',
                night: {
                    pathogenTarget: null,
                    phagocyteTarget: null,
                    lymphocyteTarget: null,
                    lymphocyteResult: null,
                    completed: false
                },
                day: {
                    votes: {},
                    killedPlayer: null,
                    votedPlayer: null
                },
                round: 1,
                history: [],
                isAdvanced: false
            };
        }

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function showGameOverScreen(winner, message) {
            const screen = document.getElementById('gameOverScreen');
            if (!screen) return;
            
            // –°–æ–∑–¥–∞–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —ç–∫—Ä–∞–Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
            screen.innerHTML = `
                <div class="game-over-card ${winner}">
                    <h2><i class="fas fa-trophy"></i> –ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞!</h2>
                    <div class="winner-message">${message}</div>
                    
                    <div class="final-roles">
                        <h3>–†–æ–ª–∏ –∏–≥—Ä–æ–∫–æ–≤:</h3>
                        <div class="roles-reveal">
                            ${gameState.players.map(player => `
                                <div class="final-player ${player.alive ? 'alive' : 'dead'}">
                                    <span class="player-final-id">${player.id}</span>
                                    <span class="player-final-role">${player.role.emoji} ${player.role.name}</span>
                                    <span class="player-final-status">${player.alive ? '–∂–∏–≤' : '–ø–æ–≥–∏–±'}</span>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                    
                    <div class="game-over-actions" style="margin-top: 30px;">
                        <button onclick="location.reload()" class="btn btn-primary" style="margin: 5px;">
                            <i class="fas fa-redo"></i> –ù–æ–≤–∞—è –∏–≥—Ä–∞
                        </button>
                        <button onclick="showPage('rules')" class="btn btn-secondary" style="margin: 5px;">
                            <i class="fas fa-home"></i> –ù–∞ –≥–ª–∞–≤–Ω—É—é
                        </button>
                    </div>
                </div>
            `;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —ç–∫—Ä–∞–Ω
            screen.style.display = 'flex';
        }

        // –ó–∞–∫—Ä—ã—Ç–∏–µ —ç–∫—Ä–∞–Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏–≥—Ä—ã
        document.getElementById('gameOverScreen')?.addEventListener('click', function(e) {
            if (e.target === this) {
                this.style.display = 'none';
            }
        });

        // ===== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –ü–†–ò –ó–ê–ì–†–£–ó–ö–ï =====
        document.addEventListener('DOMContentLoaded', function() {
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–µ—Ä–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
            showPage('rules');
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –¥–ª—è —ç–º–æ–¥–∑–∏
            const emojis = document.querySelectorAll('.role-emoji, .card-emoji, .feature-icon');
            emojis.forEach(emoji => {
                emoji.classList.add('emoji-animate');
            });
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —É–ø—Ä–æ—â–µ–Ω–Ω–æ–π –∏–≥—Ä—ã
            initSimpleGame();
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º/—Å–∫—Ä—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ –≤–≤–µ—Ä—Ö
            window.addEventListener('scroll', function() {
                const scrollBtn = document.querySelector('.scroll-to-top');
                if (scrollBtn) {
                    if (window.scrollY > 300) {
                        scrollBtn.style.display = 'flex';
                    } else {
                        scrollBtn.style.display = 'none';
                    }
                }
            });
        });
    </script>
</body>
</html>